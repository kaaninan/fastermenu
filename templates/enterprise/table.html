{% extends 'enterprise/static/base.html' %}
{% load static %}
{% block body %}
	
	<!-- Masa Ekle -->
	<div class="modal fade" id="modal-add">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title">
					<div id="modal-delete-title">Masa Ekleme</div>
					</h4>
				</div>
				<div class="modal-body">
					<input id="add1" type="radio" name="radio-add" value="add-multiple">
					<label for="add1">Toplu masa ekle</label><br>

					<input id="add2" type="radio" name="radio-add" value="add-single">
					<label for="add2">Bir tane masa ekle</label>
				</div>

				<div id="add-multiple" style="display: none">
					<div class="form-group" style="margin: 0 20px;">
						<hr>
						<label for="usr">Toplam kaç tane masanız var?</label>
						<input type="text" class="form-control" id="usr">
						<span class="help-block">Girdiğiniz sayı kadar masa eklenecektir.</span>
					</div>
				</div>

				<div id="add-single" style="display: none">
					<div class="form-group" style="margin: 0 20px;">
						<hr>
						<label for="usr">Eklemek istediğiniz masa adı nedir?</label>
						<input type="text" class="form-control" id="usr">
					</div><br>
				</div>
				
				<div class="modal-footer">
					<button type="button" class="btn btn-success btn-success pull-left" id="button-delete">Ekle</button>
				</div>
			</div>
		</div>
	</div>


	<div class="content-wrapper" id="app">
		<div class="container">
			
			<section class="content-header">
				<h1>Masa İşlemleri</h1>
				<ol class="breadcrumb">
					<li><a href="{% url 'enterprise:index' %}"><i class="fa fa-home"></i> Anasayfa</a></li>
					<li class="active">Masalar</li>
				</ol>
			</section>

			<section class="content">
				
				{% if messages %}
					{% for message in messages %}
						<div class="alert alert-success alert-dismissible" role="alert">
							<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
							{{ message }}
						</div>
					{% endfor %}
				{% endif %}

				<button type="button" class="btn btn-success" data-toggle="modal" data-target="#modal-add">
					<i class="fa fa-plus" aria-hidden="true"></i>&nbsp;&nbsp;Masa Ekle
				</button>
				
				<br><br>

				<div class="row">
					<div class="col-xs-12">
						<div class="box box-primary">
							<div class="box-header">
								<h3 class="box-title">Masalar</h3>
								<div class="box-tools">
									<div class="input-group input-group-sm" style="width: 150px;" style="position: relative">
										<form type="get" action="{% url 'enterprise:index' %}">
											<input type="text" name="search" class="form-control pull-right" style="border-radius:5px; height: 30px; z-index: 1; padding-right: 30px;" placeholder="Arama" value="{{ request.GET.search }}">
										</form>
									</div>
								</div>
							</div>
							<div class="box-body table-responsive">
								<table class="table table-hover">
									{% if data|length == 0 %}
										<tr>
											<th>Şu anda hiç masa oluşturmadınız!</th>
										</tr>
									{% endif %}
									{% if data|length != 0 %}
										<tr>
											<th>Module</th>
											<th>Description</th>
											<th>Difficulty</th>
											<th>Created By</th>
											<th>Actions</th>
										</tr>
										{% for single in data %}
											<tr>
												<td>{{ single.module.name }}</td>
												<td>{{ single.description | truncatechars:20 }}</td>
												<td>{{ single.difficulty }}</td>
												<td>{{ single.createdby.get_full_name }}</td>
												<td>
													<a href="{% url 'enterprise:index' id=single.id %}">
														<button class="btn btn-default btn-sm">Show</button>
													</a>&nbsp;
													<a href="{% url 'enterprise:index' id=single.id %}">
														<button class="btn btn-warning btn-sm">Edit</button>
													</a>&nbsp;
													<a href="{% url 'enterprise:index' id=single.id %}">
														<button class="btn btn-danger btn-sm">Delete</button>
													</a>
												</td>
											</tr>
										{% endfor %}
									{% endif %}
								</table>
							</div>
						</div>
					</div>
				</div>
			</section>
		</div>
	</div>
{% endblock %}

{% block script %}
	<script type="text/javascript">
		$(document).ready(function(){

			$('input[type=radio][name=radio-add]').change(function() {
				if (this.value == 'add-multiple') {
					$('#add-multiple').show();
					$('#add-single').hide();
				}
				else if (this.value == 'add-single') {
					$('#add-multiple').hide();
					$('#add-single').show();
				}
			}); 
		});
	</script>
{% endblock %}
