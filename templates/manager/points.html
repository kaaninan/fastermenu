{% extends 'static/base.html' %}

{% load static %}

{% block body %}

<div class="content-wrapper">
	 <!-- Content Header (Page header) -->
	 <section class="content-header">
		 <h1>
			 Grade Operations
			 <small><span style="text-transform: capitalize;">{{request.user.type}}</span> Account</small>
		 </h1>
	</section>

	 <!-- Main content -->
	 <section class="content">

		 {% if messages %}
			 {% for message in messages %}
				 <div class="alert alert-success alert-dismissible" role="alert">
				   <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				   {{ message }}
				 </div>
			 {% endfor %}
		 {% endif %}

		 <div class="row">

			 <div class="col-xs-12">

				 <div class="box box-primary">

					 <div class="box-header">
						 <h3 class="box-title">Complated Exam List</h3>
					 </div>

					 <div class="box-body table-responsive">
						 <table class="table table-hover">
						 	{% if exams|length == 0 %}
                                <tr>
                                <th>This looks empty!</th>
                            </tr>
                            {% endif %}
                            {% if exams|length != 0 %}
							 <tr>
								 <th>Module</th>
								 <th>Category</th>
								 <th>Classes</th>
								 <th>Finish Date</th>
								 <th>Created By</th>
								 <th>Actions</th>
							 </tr>
							 {% for single in exams %}
							 <tr>
								 <td>{{ single.module }}</td>
								 <td>{{ single.category }}</td>
								 <td>
									 {% for class in single.classes.all %}
										 {{ class.name }}<br>
									 {% endfor %}
								 </td>
								 <td>{{ single.finish_date | date:'d.m.Y - H:i' }}</td>
								 <td>{{ single.createdby.get_full_name }}</td>
								 <td>
								 	<a href="{% url 'manager:points_list' id=single.id %}">
								 		<button class="btn btn-primary btn-sm">Show Grades</button>
								 	</a>
								 </td>
							 </tr>
							 {% endfor %}
							 {% endif %}
						 </table>
					 </div>
				 </div>

			 </div>

		 </div>

	 </section>
</div>

{% endblock %}